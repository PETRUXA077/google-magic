<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<body bgcolor="#836FFF">
<style>
    form {
        background-color: #f4f4f4;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        margin: 20px 0;
    }

    form input[type="text"] {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 100%;
        margin-bottom: 10px;
        box-sizing: border-box;
    }

    form input[type="submit"] {
        background-color: #836FFF;
        color: #fff;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    form input[type="submit"]:hover {
        background-color: #7057e0;
    }

    b {
        display: block;
        margin-top: 20px;
        font-size: 14px;
    }
	h1 {
        font-family: 'Arial', sans-serif; /* Выберите шрифт, который вам нравится */
        font-size: 2.5em;
        color: #ebff6f;
        text-shadow: 0 0 10px #ebff6f, 0 0 20px ##ebff6f, 0 0 30px #ebff6f, 0 0 40px ##ebff6f;
    }
	b {
        font-family: 'Arial', sans-serif; /* Выберите шрифт, который вам нравится */
        color: yellow;
        transition: color 0.3s ease, transform 0.3s ease; /* Плавный переход при наведении */
    }

    b:hover {
        color: white;
        transform: scale(1.1); /* Увеличивает элемент на 10% */
    }
	.vk-button {
        display: inline-block;
        margin-top: 10px;
        padding: 10px 15px;
        background-color: blue;
        color: white;
        text-decoration: none; /* Убираем подчеркивание у ссылки */
        border-radius: 5px;
        font-family: 'Arial', sans-serif;
        font-size: 16px;
        box-shadow: 0 0 10px blue, 0 0 20px blue; /* Добавляем "светящийся" эффект */
        transition: background-color 0.3s ease; /* Плавный переход при наведении */
    }

    .vk-button:hover {
        background-color: #0054b7; /* Немного темнее оттенок синего при наведении */
    }
	    div {
        background-color: #f4f4f4;
        padding: 15px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        margin: 20px 0;
        font-family: 'Arial', sans-serif;
    }

    #savedText {
        width: 70%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
    }

    button {
        padding: 10px 15px;
        margin-left: 10px;
        background-color: #4a90e2;
        border: none;
        border-radius: 5px;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #357ab7;
    }

    ul#textList {
        list-style-type: none;
        padding: 0;
    }

    ul#textList li {
        padding: 10px;
        border-bottom: 1px solid #e0e0e0;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    ul#textList li:hover {
        background-color: #e6f7ff;
    }
</style>
<h1>PETRUXA MAGIC GOOGLE 2023 </h1>
<p id="chat">$CHAT$</p>
<hr/>
<form method='POST' enctype="multipart/form-data" action="sendmessage">
	PREDICTION URL AUTO<input type="text" id="message" name="message" value=""><br><br>
</form>
<hr/>
<b>petruxatrandafilov@gmail.com Moldova 2023</b>
<a href="https://vk.com/petruxa2505" target="_blank" class="vk-button">PETRUXA VK</a>
<!-- Добавленный код для сохранения текстов -->
<div>
	<input type="text" id="savedText" placeholder="Введите специальный код с url внутри для предсказания">
	<button onclick="saveText()">ADD PREDICTION</button>
</div>
<ul id="textList"></ul>

<script type="text/javascript">
    document.getElementById("message").focus();
    
    function xmlhttpPost() {
        var xmlHttpReq = false;
        if (window.XMLHttpRequest) {
            xmlHttpReq = new XMLHttpRequest();
            if (xmlHttpReq.overrideMimeType) {
                xmlHttpReq.overrideMimeType('text/xml');
            }
        } else if (window.ActiveXObject) {
            try {
                xmlHttpReq = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
                try {
                    xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
                } catch (e) {}
            }
        }
         
        xmlHttpReq.open('GET', "/chat", true);
        xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');        
        xmlHttpReq.onreadystatechange = function() { 
            callBackFunction(xmlHttpReq); 
        };
        xmlHttpReq.send();
    }

    function callBackFunction(http_request) {
        if (http_request.readyState == 4) {
            if (http_request.status == 200) {
                var responceString = http_request.responseText;
                document.getElementById("chat").innerHTML = (responceString);
            }
        }
    }
    setInterval("xmlhttpPost()", 5000);

	function saveText() {
		let text = document.getElementById('savedText').value;
		if (text) {
			let savedTexts = JSON.parse(localStorage.getItem('savedTexts') || '[]');
			savedTexts.push(text);
			localStorage.setItem('savedTexts', JSON.stringify(savedTexts));
			loadSavedTexts();
		}
	}

	function loadSavedTexts() {
		let savedTexts = JSON.parse(localStorage.getItem('savedTexts') || '[]');
		let list = document.getElementById('textList');
		list.innerHTML = '';
		for (let text of savedTexts) {
			let li = document.createElement('li');
			li.textContent = text;
			li.onclick = () => selectAndSubmitText(text);
			list.appendChild(li);
		}
	}

	function selectAndSubmitText(text) {
		document.getElementById('message').value = text;
		document.querySelector("form").submit();
	}

	loadSavedTexts();
</script>
</body>
</html>
